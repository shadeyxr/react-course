<!DOCTYPE html>
<html>
  <head>
    <title>chatbot</title>
    <style>
      .auto-click-button,
      .reset-button,
      .click-button{
        background-color: rgb(25,135,84);
        color:white;
        padding: 7px 7px;
        border:none;
        margin-bottom:25px;
        margin-right:9px;
        cursor: pointer;
      }

      .container{
        display: flex;
        flex-direction: column;
        height: 100vh;
        background-color: rgb(222,222,222);
        align-items: center;
      }
    </style>
  </head>
  <body>
    <div class="js-container"></div>

    <script src="https://unpkg.com/supersimpledev/chatbot.js"></script>
    <script src="https://unpkg.com/supersimpledev/react.js"></script>
    <script src="https://unpkg.com/supersimpledev/react-dom.js"></script>

    <script src="https://unpkg.com/supersimpledev/babel.js"></script>

    <script type="text/babel">

      function ClickButton({clickCount,setClickCount, buttonRef}){
        
        function increaseClickCount(){
          setClickCount(clickCount+1)
        }
        return (
          
          <>
            {(clickCount > 1 || clickCount === 0) && (
              <button onClick={increaseClickCount}
              ref={buttonRef}
              className="click-button"
              >clicked {clickCount} times</button>
            )}
            {clickCount === 1 && (
              <button onClick={increaseClickCount}
              ref={buttonRef}
              className="click-button"
              >clicked {clickCount} time</button>
            )}
          </>
        )
      }

      function ResetButton({setClickCount}){
        function resetClickCount(){
          setClickCount(0)
        }
        return (
          <button 
          onClick={resetClickCount}
          className="reset-button"
          >Reset</button>
        )
      }

      function Input({chatInput, setChatInput}){
        function saveInputText(event){
          setChatInput(event.target.value)
        }

        return (
          <input 
          onChange={saveInputText} 
          placeholder="Type something"
          className="show-input"
           />
        )
      }

      function Text({chatInput}){
        return (
          <p>{chatInput}</p>
        )
      }

      function AutoClick({buttonRef}){
        function startAutoClick(){
          setInterval(()=>{
            const buttonElem = buttonRef.current 
            buttonElem.click()
          },1000)
        }

        return (
          <button 
          onClick={startAutoClick}
          className="auto-click-button"
          >Auto Click</button>
        )
      }

      

      function App(){
        const [clickCount, setClickCount] = React.useState(0);
        const [chatInput, setChatInput] = React.useState('');
        const buttonRef = React.useRef(null);
        return(
          <div className="container">
            <div>
              <ClickButton clickCount={clickCount} setClickCount={setClickCount} buttonRef={buttonRef} />
              <ResetButton setClickCount={setClickCount} /> 
              <AutoClick buttonRef={buttonRef} />
            </div>

            <div>
              <Input chatInput={chatInput} setChatInput={setChatInput} />
              <Text chatInput={chatInput} setChatInput={setChatInput} />
            </div>
          </div>
        )
      }

      const container = document.querySelector('.js-container')
      ReactDOM.createRoot(container).render(<App />)
    </script>
  </body>
</html>